{"ast":null,"code":"import _toConsumableArray from\"/home/majimenez/Desktop/proyects/chat/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/majimenez/Desktop/proyects/chat/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import{server}from'../config';import socketClient from\"socket.io-client\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var socket=socketClient(server);export var ControllerSend=function ControllerSend(_ref){var setMessages=_ref.setMessages;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setstate=_useState2[1];var handlerSubmit=function handlerSubmit(e){e.preventDefault();var mess={message:state,date:new Date()};if(state){setMessages(function(mesg){return[].concat(_toConsumableArray(mesg),[mess]);});//https://majimenezaquino-chat.herokuapp.com/message\n// axios.post(`${server}/message`, mess)\n//   .then(res => {\n//     console.log(res.data);\n//   })\nsocket.emit('addmessage',mess);}setstate('');};var handlerChange=function handlerChange(e){setstate(e.target.value);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"footer\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handlerSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-send\",children:[/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-camera\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Send a message\",value:state,onChange:handlerChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-paper-plane\"})})]})})})});};","map":{"version":3,"sources":["/home/majimenez/Desktop/proyects/chat/frontend/src/components/ControllerSend.js"],"names":["React","useState","axios","server","socketClient","socket","ControllerSend","setMessages","state","setstate","handlerSubmit","e","preventDefault","mess","message","date","Date","mesg","emit","handlerChange","target","value"],"mappings":"gRAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,MAAR,KAAqB,WAArB,CACA,MAAOC,CAAAA,YAAP,KAA0B,kBAA1B,C,6IACA,GAAMC,CAAAA,MAAM,CAAGD,YAAY,CAAED,MAAF,CAA3B,CAEA,MAAO,IAAMG,CAAAA,cAAc,CAAE,QAAhBA,CAAAA,cAAgB,MAAiB,IAAfC,CAAAA,WAAe,MAAfA,WAAe,CAC5C,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,aAAa,CAAC,QAAdA,CAAAA,aAAc,CAACC,CAAD,CAAK,CACvBA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,IAAI,CAAE,CACVC,OAAO,CAAGN,KADA,CAEVO,IAAI,CAAE,GAAIC,CAAAA,IAAJ,EAFI,CAAZ,CAIA,GAAGR,KAAH,CAAS,CACPD,WAAW,CAAE,SAAAU,IAAI,qCAAOA,IAAP,GAAYJ,IAAZ,IAAN,CAAX,CACD;AACC;AACA;AACA;AACA;AACAR,MAAM,CAACa,IAAP,CAAY,YAAZ,CAA0BL,IAA1B,EACD,CAIDJ,QAAQ,CAAC,EAAD,CAAR,CAED,CApBD,CAqBA,GAAMU,CAAAA,aAAa,CAAC,QAAdA,CAAAA,aAAc,CAACR,CAAD,CAAK,CAEvBF,QAAQ,CAACE,CAAC,CAACS,MAAF,CAASC,KAAV,CAAR,CAGD,CALD,CAME,mBACI,sCACC,YAAK,SAAS,CAAC,QAAf,uBACC,aAAM,QAAQ,CAAEX,aAAhB,uBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,qCACA,UAAG,SAAS,CAAC,eAAb,EADA,EADF,cAIE,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,gBAA/B,CAAgD,KAAK,CAAEF,KAAvD,CAA8D,QAAQ,CAAEW,aAAxE,EAJF,cAKE,eAAQ,IAAI,CAAC,QAAb,uBACA,UAAG,SAAS,CAAC,oBAAb,EADA,EALF,GADF,EADD,EADD,EADJ,CAkBH,CA/CM","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport {server} from '../config'\nimport socketClient  from \"socket.io-client\";\nconst socket = socketClient (server);\n\nexport const ControllerSend =({setMessages})=>{\n  const [state, setstate] = useState('')\n  const handlerSubmit=(e)=>{\n    e.preventDefault()\n    const mess ={\n      message : state,\n      date: new Date()\n    }\n    if(state){\n      setMessages( mesg=>[ ...mesg,mess])\n     //https://majimenezaquino-chat.herokuapp.com/message\n      // axios.post(`${server}/message`, mess)\n      //   .then(res => {\n      //     console.log(res.data);\n      //   })\n      socket.emit('addmessage', mess);\n    }\n     \n    \n    \n    setstate('')\n    \n  }\n  const handlerChange=(e)=>{\n  \n    setstate(e.target.value)\n\n    \n  }\n    return(\n        <>\n         <div className='footer'> \n          <form onSubmit={handlerSubmit}>\n            <div className='container-send'>\n              <button>\n              <i className=\"fas fa-camera\"></i>\n              </button>\n              <input type=\"text\" placeholder='Send a message' value={state} onChange={handlerChange} />\n              <button type='submit'>\n              <i className=\"fas fa-paper-plane\"></i>\n              </button>\n            </div>\n           \n          </form>\n         </div>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}